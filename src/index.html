<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>JsBattle Tutorial</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/5.1.3/pixi.min.js"></script>
    <script type="text/javascript" src="./js/jsbattle.min.js"></script>
  </head>
  <body>
    <canvas id="battlefield" style="width: 1200px; height: 1000px"></canvas>
    <script type="application/javascript">
        var canvas = document.getElementById('battlefield');
        var renderer = JsBattle.createRenderer('debug');
        renderer.init(canvas);

        //var simulation = JsBattle.createSimulation(renderer);
        //
        renderer.loadAssets(() => {
            var simulation = JsBattle.createSimulation(renderer);
            simulation.init(canvas.clientWidth, canvas.clientHeight);
            simulation.setRngSeed(15);
            simulation.timeLimit = 300000;
            //simulation.setRendererQuality(1);
            for(var i=0; i < 20; i++) {
                var ai = JsBattle.createAiDefinition();
                ai.fromFile('test');
                simulation.addTank(ai);
            }
            simulation.start();
            document.getElementById("loading").style.display ='none';
        }, '../');
        // simulation.init(canvas.clientWidth, canvas.clientHeight);
        // for(var i=0; i < 5; i++) {
        //     var ai = JsBattle.createAiDefinition();
        //     ai.fromFile('test');
        //     simulation.addTank(ai);
        // }
        // simulation.start();
    </script>
  </body>
</html>